<!DOCTYPE html>
<html>

{% include head.html %}

<body>

    {% include header.html %} 
    
<!-- Main -->
<div id="main" class="alt">
	<section>
			<div class="inner row uniform">
				<div class="8u 12u(small)" style="margin-bottom: 2em;">
					<img id="header-logo" src="{{ "/assets/images/logo.svg" | relative_url}}">
				</div>
			</div>
	</section>
</div>

    {% include footer.html %}

</body>
</html>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<!-- Form Script -->
<script>
function updateTotals() {
    // Checkboxes
    var inputs = document.getElementById('extra-features').getElementsByTagName('input');

    // Selected Options
    var body = document.getElementById("wood-body");
	var bodycost = parseInt(body.options[body.selectedIndex].getAttribute('value').split(":").pop());
	var neck = document.getElementById("wood-neck");
	var neckcost = parseInt(neck.options[neck.selectedIndex].getAttribute('value').split(":").pop());	
	var fret = document.getElementById("wood-fret");
	var fretcost = parseInt(fret.options[fret.selectedIndex].getAttribute('value').split(":").pop());
	var radius = document.getElementById("neck-radius");
	var radiuscost = parseInt(radius.options[radius.selectedIndex].getAttribute('value').split(":").pop());
	var result = bodycost + neckcost + fretcost + radiuscost;

    // Total Price
    var sum = {{ page.price-usd }} + result;
    for (var i = 0, num = inputs.length; i < num; i++) {
        if (inputs[i].checked) {
            sum += parseInt(inputs[i].getAttribute('value').split(":").pop());
        }
    }

    // Customisation Total
    var customisations = sum - {{ page.price-usd }};

	// Totals for text
    document.getElementById('payment-custom').innerHTML = '$' + customisations;
    document.getElementById('payment-total').value = '$' + sum;
    document.getElementById('next').value = '{{ site.baseurl }}/order-placed?deposit=' + (sum*0.25);

    
}

var section = document.getElementById('extra-features');
var inputs = section.getElementsByTagName('input');
for (var i = 0, num = inputs.length; i < num; i++) {
    inputs[i].addEventListener('change', updateTotals);
}


</script>
